<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Pink Beating Heart</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // Scene
        const scene = new THREE.Scene();

        // Heart shape (parametric 2D path)
        const heartX = -25;
        const heartY = -25;
        const heartShape = new THREE.Shape();
        heartShape.moveTo(25 + heartX, 25 + heartY);
        heartShape.bezierCurveTo(25 + heartX, 25 + heartY, 20 + heartX, 0 + heartY, 0 + heartX, 0 + heartY);
        heartShape.bezierCurveTo(-30 + heartX, 0 + heartY, -30 + heartX, 35 + heartY, -30 + heartX, 35 + heartY);
        heartShape.bezierCurveTo(-30 + heartX, 55 + heartY, -10 + heartX, 77 + heartY, 25 + heartX, 95 + heartY);
        heartShape.bezierCurveTo(60 + heartX, 77 + heartY, 80 + heartX, 55 + heartY, 80 + heartX, 35 + heartY);
        heartShape.bezierCurveTo(80 + heartX, 35 + heartY, 80 + heartX, 0 + heartY, 50 + heartX, 0 + heartY);
        heartShape.bezierCurveTo(35 + heartX, 0 + heartY, 25 + heartX, 25 + heartY, 25 + heartX, 25 + heartY);

        // Extrude to 3D
        const extrudeSettings = {
            depth: 8,
            bevelEnabled: true,
            bevelSegments: 2,
            steps: 2,
            bevelSize: 1,
            bevelThickness: 1
        };
        const geometryHeart = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);

        // Pink material
        const pinkMaterial = new THREE.MeshPhongMaterial({ color: 0xff69b4 }); // Hot pink

        // Heart mesh
        const meshHeart = new THREE.Mesh(geometryHeart, pinkMaterial);
        meshHeart.scale.set(0.01, 0.01, 0.01);
        scene.add(meshHeart);

        // Light (for Phong material shading)
        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(0, 0, 10);
        scene.add(light);

        // Sizes
        const sizes = {
            width: window.innerWidth,
            height: window.innerHeight
        };
        window.addEventListener('resize', () => {
            sizes.width = window.innerWidth;
            sizes.height = window.innerHeight;
            camera.aspect = sizes.width / sizes.height;
            camera.updateProjectionMatrix();
            renderer.setSize(sizes.width, sizes.height);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        });

        // Camera
        const camera = new THREE.PerspectiveCamera(75, sizes.width / sizes.height, 0.1, 1000);
        camera.position.z = 1; // Adjusted for scaled heart size

        // Controls
        const controls = new THREE.OrbitControls(camera, document.body);
        controls.enableDamping = true;

        // Renderer
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(sizes.width, sizes.height);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.body.appendChild(renderer.domElement);

        // Animation loop (includes beating pulse)
        const tick = () => {
            // Beating animation: pulse scale around base value
            const baseScale = 0.01;
            const pulseAmplitude = 0.001;
            const pulseSpeed = 0.005; // Adjust for faster/slower beat
            const pulse = pulseAmplitude * Math.sin(Date.now() * pulseSpeed);
            meshHeart.scale.set(baseScale + pulse, baseScale + pulse, baseScale + pulse);

            controls.update();
            renderer.render(scene, camera);
            requestAnimationFrame(tick);
        };
        tick();
    </script>
</body>
</html>
